{"version":3,"file":"static/js/720.a6cadd55.chunk.js","mappings":"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","sources":["components/Content/CyberCart.tsx","pages/Cart/Cart.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { winSatte } from '../../redux/reducers';\r\nimport { useParams } from 'react-router-dom';\r\nimport { setCart } from '../../redux/reducers/searchReducer';\r\nimport SkeletonGoods from '../Uikit/SkeletonGoods';\r\nimport axios from 'axios';\r\nimport './CyberCart.scss';\r\n\r\ndocument.title = 'CYBERBALENCIAGA' + '   ' + 'CART';\r\n\r\nconst prerenderArray = [\r\n  {\r\n    value: 'Cyber fighter gloves',\r\n    id: '99999999',\r\n    link: 'https://raw.githubusercontent.com/AlexMalFrost/CYBERBALENCIAGA/cyber-balenciaga-files/goods/strangemask.png',\r\n    price: 99999,\r\n    test: 'dresses',\r\n    category: 'dress',\r\n  },\r\n];\r\ntype cartItem = {\r\n  id: string;\r\n};\r\n\r\ntype cartValue = {\r\n  count: number;\r\n  id: string;\r\n}[];\r\n\r\ntype cartContent = {\r\n  value: string;\r\n  link: string;\r\n  price: number;\r\n  category: string;\r\n  id: string;\r\n};\r\n\r\ntype cartContents = cartContent[];\r\n\r\ntype cartContentItem = {\r\n  item: cartContent;\r\n  datavalue: number;\r\n};\r\n\r\nconst CyberCart: React.FC = () => {\r\n  const [cartContent, setCartContent] = React.useState<cartContents>(prerenderArray);\r\n\r\n  const dispatch = useDispatch();\r\n  const windowSize = useSelector((state: winSatte) => state.windowsize.value);\r\n  const cartItems = useSelector((state: winSatte) => state.searchslice.cartvalue);\r\n\r\n  React.useEffect(() => {\r\n    async function fetchPizza() {\r\n      try {\r\n        const { data } = await axios.get(`https://6429b940ebb1476fcc4f9b86.mockapi.io/items`);\r\n        if (data.length > 0 && Object.keys(cartItems).length > 0) {\r\n          const myArrayFiltered = data.filter((el: cartContent) => {\r\n            return cartItems.some((f: cartItem) => {\r\n              return f.id == el.id;\r\n            });\r\n          });\r\n          setCartContent(myArrayFiltered);\r\n        } else {\r\n          document.title = 'CYBERBALENCIAGA NOT FOUND';\r\n          setCartContent(prerenderArray);\r\n        }\r\n      } catch (error) {\r\n        alert('Ошибка при получении данных!');\r\n      }\r\n    }\r\n\r\n    fetchPizza();\r\n  }, [cartItems]);\r\n\r\n  const itemCarts: cartValue =\r\n    Object.keys(cartItems).length > 0\r\n      ? [\r\n          ...cartItems\r\n            .reduce((mp, o) => {\r\n              if (!mp.has(o.id)) mp.set(o.id, { ...o, count: 0 });\r\n              mp.get(o.id).count++;\r\n              return mp;\r\n            }, new Map())\r\n            .values(),\r\n        ]\r\n      : prerenderArray;\r\n\r\n  const removeCartItem = ({ item, datavalue }: cartContentItem) => {\r\n    if (datavalue > 1) {\r\n      const indexCart = cartItems.findIndex(({ id }) => id === item.id);\r\n      const delitItemCart = cartItems.filter((_, i) => i !== indexCart);\r\n      dispatch(setCart(delitItemCart));\r\n    }\r\n  };\r\n\r\n  const removeCartPosition = (item: cartContent) => {\r\n    if (Object.keys(cartItems).length > 0) {\r\n      const removethisposition = cartItems.filter((i) => i.id !== item.id);\r\n      const removeposition = cartContent.filter((i) => i.id !== item.id);\r\n      const filteredCartItem = removeposition.filter(\r\n        (ele, ind) => ind === removeposition.findIndex((elem) => elem.id === ele.id),\r\n      );\r\n      const middledata =\r\n        Object.keys(filteredCartItem).length > 0 ? filteredCartItem : prerenderArray;\r\n      dispatch(setCart(removethisposition));\r\n      setCartContent(middledata);\r\n    }\r\n  };\r\n\r\n  const renderItemCartNumber = (item: cartContent) => {\r\n    for (let i = 0; i < Object.keys(cartItems).length; i++) {\r\n      if (item.id === itemCarts[i].id) {\r\n        const datavalue = itemCarts[i].count;\r\n        return (\r\n          <div className=\"cart_block\">\r\n            <div className=\"cart_value\">{item.value}</div>\r\n            <div className=\"cart_button\">\r\n              <div className=\"cart_sign\" onClick={() => removeCartItem({ item, datavalue })}>\r\n                -\r\n              </div>\r\n            </div>\r\n            <div className=\"cart_value\">{itemCarts[i].count}</div>\r\n            <div className=\"cart_button\">\r\n              <div\r\n                className=\"cart_sign\"\r\n                onClick={() => dispatch(setCart([...cartItems, { id: item.id }]))}>\r\n                +\r\n              </div>\r\n            </div>\r\n            <div className=\"cart_value\"> {item.price * itemCarts[i].count} $</div>\r\n            <div className=\"cart_remove\">\r\n              <div className=\"cart_remove_remove\" onClick={() => removeCartPosition(item)}>\r\n                Remove\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const renderSkeleton = () => {\r\n    if (cartContent.length === prerenderArray.length) {\r\n      return (\r\n        <>\r\n          <div className=\"emptycart\">Data is loading</div>\r\n        </>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"notfound\">\r\n        <div className=\"notfound_text\">Data not found</div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className={windowSize ? 'cartGrid_blur' : 'cartGrid'}>\r\n        <div className=\"cart_content\">\r\n          {cartContent[0].id === prerenderArray[0].id\r\n            ? renderSkeleton()\r\n            : cartContent.map((item: cartContent) => (\r\n                <div key={item.id} className=\"cart_item\">\r\n                  <img className=\"cart_picture\" src={item.link} alt=\"Link\" />\r\n                  {renderItemCartNumber(item)}\r\n                </div>\r\n              ))}\r\n        </div>\r\n        <div className=\"cart_buybar\">\r\n          <div className=\"cart_buybar_buy\">Buy</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CyberCart;\r\n","import React from 'react';\r\nimport NavBar from '../../components/Header/NavBar/NavBar';\r\nimport Menu from '../../components/Header/Menu/Menu';\r\nimport FooterMain from '../../components/Footer/FooterMain';\r\nimport Searchinput from '../../components/Uikit/SearchInput';\r\nimport CyberCart from '../../components/Content/CyberCart';\r\n\r\nconst Cart: React.FC = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <header>\r\n        <NavBar />\r\n        <Menu />\r\n        <Searchinput />\r\n      </header>\r\n      <main>\r\n        <CyberCart />\r\n      </main>\r\n      <footer>\r\n        <div className=\"choseFooter\">\r\n          <FooterMain />\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"],"names":["document","title","prerenderArray","value","id","link","price","test","category","CyberCart","cartContent","setCartContent","React","dispatch","useDispatch","windowSize","useSelector","state","windowsize","cartItems","searchslice","cartvalue","async","data","axios","length","Object","keys","myArrayFiltered","filter","el","some","f","error","alert","fetchPizza","itemCarts","reduce","mp","o","has","set","count","get","Map","values","removeCartItem","_ref","item","datavalue","indexCart","findIndex","_ref2","delitItemCart","_","i","setCart","removeCartPosition","removethisposition","removeposition","filteredCartItem","ele","ind","elem","middledata","renderItemCartNumber","_jsxs","className","children","_jsx","onClick","_Fragment","map","src","alt","Cart","NavBar","Menu","Searchinput","FooterMain"],"sourceRoot":""}