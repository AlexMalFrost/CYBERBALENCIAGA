{"version":3,"file":"static/js/720.ce52b89a.chunk.js","mappings":"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","sources":["components/Content/CyberCart.tsx","pages/Cart/Cart.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { winSatte } from '../../redux/reducers';\r\nimport { setCart } from '../../redux/reducers/searchReducer';\r\nimport axios from 'axios';\r\nimport './CyberCart.scss';\r\n\r\ndocument.title = 'CYBERBALENCIAGA' + '   ' + 'CART';\r\n\r\nconst prerenderArray = [\r\n  {\r\n    value: 'Cyber fighter gloves',\r\n    id: '99999999',\r\n    link: 'https://raw.githubusercontent.com/AlexMalFrost/CYBERBALENCIAGA/cyber-balenciaga-files/goods/strangemask.png',\r\n    price: 99999,\r\n    test: 'dresses',\r\n    category: 'dress',\r\n  },\r\n];\r\nconst NotFound = [\r\n  {\r\n    value: 'Cyber fighter gloves',\r\n    id: '99999998',\r\n    link: 'https://raw.githubusercontent.com/AlexMalFrost/CYBERBALENCIAGA/cyber-balenciaga-files/goods/strangemask.png',\r\n    price: 10101,\r\n    test: 'dresses',\r\n    category: 'dress',\r\n  },\r\n];\r\ntype cartItem = {\r\n  id: string;\r\n};\r\n\r\ntype cartValue = {\r\n  count: number;\r\n  id: string;\r\n}[];\r\n\r\ntype cartContent = {\r\n  value: string;\r\n  link: string;\r\n  price: number;\r\n  category: string;\r\n  id: string;\r\n};\r\n\r\ntype cartContents = cartContent[];\r\n\r\ntype cartContentItem = {\r\n  item: cartContent;\r\n  datavalue: number;\r\n};\r\n\r\nconst CyberCart: React.FC = () => {\r\n  const [cartContent, setCartContent] = React.useState<cartContents>(prerenderArray);\r\n\r\n  const dispatch = useDispatch();\r\n  const windowSize = useSelector((state: winSatte) => state.windowsize.value);\r\n  const cartItems = useSelector((state: winSatte) => state.searchslice.cartvalue);\r\n\r\n  React.useEffect(() => {\r\n    console.log(cartContent[0].id);\r\n    async function fetchPizza() {\r\n      try {\r\n        const { data } = await axios.get(`https://6429b940ebb1476fcc4f9b86.mockapi.io/items`);\r\n        if (data.length > 0 && Object.keys(cartItems).length > 0) {\r\n          const myArrayFiltered = data.filter((el: cartContent) => {\r\n            return cartItems.some((f: cartItem) => {\r\n              return f.id == el.id;\r\n            });\r\n          });\r\n          setCartContent(myArrayFiltered);\r\n        } else if (data.length === 0 && Object.keys(cartItems).length > 0) {\r\n          document.title = 'CYBERBALENCIAGA NOT FOUND';\r\n          setCartContent(NotFound);\r\n        } else {\r\n          document.title = 'CYBERBALENCIAGA NOT FOUND';\r\n          setCartContent(prerenderArray);\r\n        }\r\n      } catch (error) {\r\n        alert('Ошибка при получении данных!');\r\n      }\r\n    }\r\n\r\n    fetchPizza();\r\n  }, [cartItems]);\r\n\r\n  const itemCarts: cartValue =\r\n    Object.keys(cartItems).length > 0\r\n      ? [\r\n          ...cartItems\r\n            .reduce((mp, o) => {\r\n              if (!mp.has(o.id)) mp.set(o.id, { ...o, count: 0 });\r\n              mp.get(o.id).count++;\r\n              return mp;\r\n            }, new Map())\r\n            .values(),\r\n        ]\r\n      : prerenderArray;\r\n\r\n  const removeCartItem = ({ item, datavalue }: cartContentItem) => {\r\n    if (datavalue > 1) {\r\n      const indexCart = cartItems.findIndex(({ id }) => id === item.id);\r\n      const delitItemCart = cartItems.filter((_, i) => i !== indexCart);\r\n      dispatch(setCart(delitItemCart));\r\n    }\r\n  };\r\n\r\n  const removeCartPosition = (item: cartContent) => {\r\n    if (Object.keys(cartItems).length > 0) {\r\n      const removethisposition = cartItems.filter((i) => i.id !== item.id);\r\n      const removeposition = cartContent.filter((i) => i.id !== item.id);\r\n      const filteredCartItem = removeposition.filter(\r\n        (ele, ind) => ind === removeposition.findIndex((elem) => elem.id === ele.id),\r\n      );\r\n      const middledata =\r\n        Object.keys(filteredCartItem).length > 0 ? filteredCartItem : prerenderArray;\r\n      dispatch(setCart(removethisposition));\r\n      setCartContent(middledata);\r\n    }\r\n  };\r\n\r\n  const renderItemCartNumber = (item: cartContent) => {\r\n    for (let i = 0; i < Object.keys(cartItems).length; i++) {\r\n      if (item.id === itemCarts[i].id) {\r\n        const datavalue = itemCarts[i].count;\r\n        return (\r\n          <div className=\"cart_block\">\r\n            <div className=\"cart_value\">{item.value}</div>\r\n            <div className=\"cart_button_box\">\r\n              <div className=\"cart_button\">\r\n                <div className=\"cart_sign\" onClick={() => removeCartItem({ item, datavalue })}>\r\n                  -\r\n                </div>\r\n              </div>\r\n              <div className=\"cart_value\">{itemCarts[i].count}</div>\r\n              <div className=\"cart_button\">\r\n                <div\r\n                  className=\"cart_sign\"\r\n                  onClick={() => dispatch(setCart([...cartItems, { id: item.id }]))}>\r\n                  +\r\n                </div>\r\n              </div>\r\n              <div className=\"cart_value\"> {item.price * itemCarts[i].count} $</div>\r\n            </div>\r\n            <div className=\"cart_remove\">\r\n              <div className=\"cart_remove_remove\" onClick={() => removeCartPosition(item)}>\r\n                Remove\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const renderSkeleton = () => {\r\n    if (cartContent[0].price === prerenderArray[0].price) {\r\n      return (\r\n        <>\r\n          <div className=\"emptycart\">Cart is empty</div>\r\n        </>\r\n      );\r\n    } else if (cartContent[0].price === NotFound[0].price) {\r\n      return (\r\n        <>\r\n          <div className=\"emptycart\">Data not found</div>\r\n        </>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"notfound\">\r\n        <div className=\"notfound_text\">Data not found</div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className={windowSize ? 'cartGrid_blur' : 'cartGrid'}>\r\n        <div className=\"cart_content\">\r\n          {cartContent[0].id === prerenderArray[0].id\r\n            ? renderSkeleton()\r\n            : cartContent.map((item: cartContent) => (\r\n                <div key={item.id} className=\"cart_item\">\r\n                  <div className=\"cart_picture_box\">\r\n                    <img className=\"cart_picture\" src={item.link} alt=\"Link\" />\r\n                  </div>\r\n                  {renderItemCartNumber(item)}\r\n                </div>\r\n              ))}\r\n        </div>\r\n        {cartContent[0].id === '99999999' ? (\r\n          <div></div>\r\n        ) : (\r\n          <div className=\"cart_buybar\">\r\n            <div className=\"cart_buybar_buy\">Buy</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CyberCart;\r\n","import React from 'react';\r\nimport NavBar from '../../components/Header/NavBar/NavBar';\r\nimport Menu from '../../components/Header/Menu/Menu';\r\nimport FooterMain from '../../components/Footer/FooterMain';\r\nimport Searchinput from '../../components/Uikit/SearchInput';\r\nimport CyberCart from '../../components/Content/CyberCart';\r\n\r\nconst Cart: React.FC = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <header>\r\n        <NavBar />\r\n        <Menu />\r\n        <Searchinput />\r\n      </header>\r\n      <main>\r\n        <CyberCart />\r\n      </main>\r\n      <footer>\r\n        <div className=\"choseFooter\">\r\n          <FooterMain />\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"],"names":["document","title","prerenderArray","value","id","link","price","test","category","NotFound","CyberCart","cartContent","setCartContent","React","dispatch","useDispatch","windowSize","useSelector","state","windowsize","cartItems","searchslice","cartvalue","console","log","async","data","axios","length","Object","keys","myArrayFiltered","filter","el","some","f","error","alert","fetchPizza","itemCarts","reduce","mp","o","has","set","count","get","Map","values","removeCartItem","_ref","item","datavalue","indexCart","findIndex","_ref2","delitItemCart","_","i","setCart","removeCartPosition","removethisposition","removeposition","filteredCartItem","ele","ind","elem","middledata","renderItemCartNumber","_jsxs","className","children","_jsx","onClick","_Fragment","map","src","alt","Cart","NavBar","Menu","Searchinput","FooterMain"],"sourceRoot":""}